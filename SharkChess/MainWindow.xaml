<Window x:Class="SharkChess.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="clr-namespace:SharkChess.Views.Controls"
        Title="é²¨é±¼è±¡æ£‹" 
        Height="900" Width="1400"
        WindowStartupLocation="CenterScreen"
        Background="#1e1e1e">
    
    <Window.Resources>
        <!-- ä¾§è¾¹æ å®½åº¦ -->
        <GridLength x:Key="SidebarWidth">280</GridLength>
        <GridLength x:Key="SidebarCollapsedWidth">0</GridLength>
        
        <!-- é¢æ¿æ ·å¼ -->
        <Style x:Key="SidePanelStyle" TargetType="Border">
            <Setter Property="Background" Value="#252526"/>
            <Setter Property="BorderBrush" Value="#3e3e42"/>
            <Setter Property="BorderThickness" Value="1,0,1,0"/>
        </Style>
        
        <!-- åˆ†ç»„æ ‡é¢˜æ ·å¼ -->
        <Style x:Key="GroupHeaderStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="#cccccc"/>
            <Setter Property="Margin" Value="0,0,0,8"/>
        </Style>
        
        <!-- ç´§å‡‘æŒ‰é’®æ ·å¼ -->
        <Style x:Key="CompactButton" TargetType="Button">
            <Setter Property="Background" Value="#3c3c3c"/>
            <Setter Property="Foreground" Value="#cccccc"/>
            <Setter Property="BorderBrush" Value="#555555"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="8,5"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Margin" Value="0,3"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="2"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Left" 
                                            VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#4a4a4a"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#333333"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <!-- èœå•æ  -->
            <RowDefinition Height="Auto"/>
            <!-- å·¥å…·æ  -->
            <RowDefinition Height="Auto"/>
            <!-- ä¸»å†…å®¹åŒº -->
            <RowDefinition Height="*"/>
            <!-- çŠ¶æ€æ  -->
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- ========== èœå•æ  ========== -->
        <Menu Grid.Row="0" Background="#2d2d30">
            <Menu.ItemsPanel>
                <ItemsPanelTemplate>
                    <DockPanel HorizontalAlignment="Stretch"/>
                </ItemsPanelTemplate>
            </Menu.ItemsPanel>
            <MenuItem Header="_æ–‡ä»¶" Padding="10,5">
                <MenuItem Header="æ–°æ¸¸æˆ" Click="NewGame_Click"/>
                <Separator/>
                <MenuItem Header="æ‰“å¼€æ£‹è°±"/>
                <MenuItem Header="ä¿å­˜æ£‹è°±" Click="SavePGN_Click"/>
                <Separator/>
                <MenuItem Header="é€€å‡º"/>
            </MenuItem>
            <MenuItem Header="_ç¼–è¾‘" Padding="10,5">
                <MenuItem Header="å¤åˆ¶ FEN"/>
                <MenuItem Header="ç²˜è´´ FEN"/>
                <Separator/>
                <MenuItem Header="ç¼–è¾‘å±€é¢"/>
            </MenuItem>
            <MenuItem Header="_å¼•æ“Ž" Padding="10,5">
                <MenuItem Header="åŠ è½½å¼•æ“Ž" Click="LoadEngine_Click"/>
                <MenuItem Header="å¸è½½å¼•æ“Ž"/>
                <Separator/>
                <MenuItem Header="å¼•æ“Žè®¾ç½®"/>
            </MenuItem>
            <MenuItem Header="_è§†å›¾" Padding="10,5">
                <MenuItem Header="å³ä¾§é¢æ¿" IsCheckable="True" IsChecked="True" Click="ToggleRightPanel_Click"/>
                <Separator/>
                <MenuItem Header="æ”¾å¤§æ£‹ç›˜"/>
                <MenuItem Header="ç¼©å°æ£‹ç›˜"/>
            </MenuItem>
            <MenuItem Header="_å¸®åŠ©" Padding="10,5">
                <MenuItem Header="å…³äºŽ"/>
            </MenuItem>
        </Menu>
        
        <!-- ========== å·¥å…·æ  ========== -->
        <ToolBarTray Grid.Row="1" Background="#2d2d30">
            <ToolBar Band="0" Background="Transparent">
                <Button Content="âž• æ–°æ¸¸æˆ" Click="NewGame_Click" 
                        Style="{StaticResource CompactButton}" Margin="5,3"/>
                <Button Content="â†©ï¸ æ‚”æ£‹" Click="Undo_Click" 
                        Style="{StaticResource CompactButton}" Margin="5,3"/>
                <Button Content="ðŸ”„ é‡æ–°å¼€å§‹" Click="Restart_Click" 
                        Style="{StaticResource CompactButton}" Margin="5,3"/>
                <Separator/>
                <Button Content="ðŸ’¾ ä¿å­˜æ£‹è°±" Click="SavePGN_Click" 
                        Style="{StaticResource CompactButton}" Margin="5,3"/>
                <Separator/>
                <Button Content="ðŸ¤– åŠ è½½å¼•æ“Ž" Click="LoadEngine_Click" 
                        Style="{StaticResource CompactButton}" Margin="5,3"/>
                <Separator/>
                <TextBlock Text="ä¸»é¢˜ï¼š" VerticalAlignment="Center" 
                          Foreground="#cccccc" Margin="10,0,5,0"/>
                <ComboBox x:Name="ThemeComboBox" Width="120" Margin="5,3"
                          Background="#3c3c3c" Foreground="White"
                          SelectionChanged="ThemeComboBox_SelectionChanged">
                    <ComboBoxItem Content="æ ‡å‡†è§„èŒƒç‰ˆ"/>
                    <ComboBoxItem Content="æ•™å­¦ä¸“ç”¨ç‰ˆ"/>
                    <ComboBoxItem Content="å›½é£Žè®¾è®¡ç‰ˆ"/>
                </ComboBox>
            </ToolBar>
        </ToolBarTray>
        
        <!-- ========== ä¸»å†…å®¹åŒº ========== -->
        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <!-- æ£‹ç›˜åŒºåŸŸ -->
                <ColumnDefinition Width="*"/>
                <!-- å³ä¾§é¢æ¿ -->
                <ColumnDefinition x:Name="RightColumn" Width="380" MinWidth="0"/>
            </Grid.ColumnDefinitions>
            
            <!-- ===== æ£‹ç›˜åŒºåŸŸ ===== -->
            <Border Grid.Column="0" Background="#1e1e1e" Padding="30">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <!-- é˜µäº¡æ£‹å­å±•ç¤ºåŒºï¼ˆé»‘æ–¹è¢«åƒï¼‰ -->
                        <ColumnDefinition Width="Auto"/>
                        <!-- æ£‹ç›˜æŽ§ä»¶å±…ä¸­æ˜¾ç¤º -->
                        <ColumnDefinition Width="*"/>
                        <!-- é˜µäº¡æ£‹å­å±•ç¤ºåŒºï¼ˆçº¢æ–¹è¢«åƒï¼‰ -->
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- é»‘æ–¹è¢«åƒæ£‹å­å±•ç¤º -->
                    <ItemsControl Grid.Column="0" x:Name="CapturedBlackPiecesControl" 
                                 Width="50" Margin="0,0,10,0"
                                 ItemsSource="{Binding CapturedBlackPieces}">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <WrapPanel Orientation="Vertical"/>
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Width="40" Height="40" Margin="2"
                                       Background="#3c3c3c" CornerRadius="20">
                                    <TextBlock Text="{Binding ChineseName}"
                                             HorizontalAlignment="Center" 
                                             VerticalAlignment="Center"
                                             FontSize="16" FontWeight="Bold"
                                             Foreground="Black"/>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                    
                    <!-- æ£‹ç›˜æŽ§ä»¶å±…ä¸­æ˜¾ç¤º -->
                    <controls:ChessBoardControl Grid.Column="1" x:Name="ChessBoard" 
                                                HorizontalAlignment="Center" 
                                                VerticalAlignment="Center"
                                                MinWidth="550" MinHeight="610"
                                                SelectSquareCommand="{Binding SelectSquareCommand}"
                                                MovePieceCommand="{Binding MovePieceCommand}"/>
                    
                    <!-- çº¢æ–¹è¢«åƒæ£‹å­å±•ç¤º -->
                    <ItemsControl Grid.Column="2" x:Name="CapturedRedPiecesControl" 
                                 Width="50" Margin="10,0,0,0"
                                 ItemsSource="{Binding CapturedRedPieces}">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <WrapPanel Orientation="Vertical"/>
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Width="40" Height="40" Margin="2"
                                       Background="#3c3c3c" CornerRadius="20">
                                    <TextBlock Text="{Binding ChineseName}"
                                             HorizontalAlignment="Center" 
                                             VerticalAlignment="Center"
                                             FontSize="16" FontWeight="Bold"
                                             Foreground="#cc0000"/>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </Grid>
            </Border>
            
            <!-- ===== å³ä¾§é¢æ¿ï¼šä¿¡æ¯å’ŒæŽ§åˆ¶ ===== -->
            <Border Grid.Column="1" Style="{StaticResource SidePanelStyle}" x:Name="RightPanel">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <DockPanel>
                        <!-- æ¸¸æˆæŽ§åˆ¶ -->
                        <StackPanel DockPanel.Dock="Top" Margin="15,15,15,10">
                            <TextBlock Text="æ¸¸æˆæŽ§åˆ¶" Style="{StaticResource GroupHeaderStyle}"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Button Grid.Column="0" Content="æ–°æ¸¸æˆ" Click="NewGame_Click" 
                                        Style="{StaticResource CompactButton}" Margin="0,0,3,3"/>
                                <Button Grid.Column="1" Content="æ‚”æ£‹" Click="Undo_Click" 
                                        Style="{StaticResource CompactButton}" Margin="3,0,3,3"/>
                                <Button Grid.Column="2" Content="é‡æ–°å¼€å§‹" Click="Restart_Click" 
                                        Style="{StaticResource CompactButton}" Margin="3,0,3,3"/>
                                <Button Grid.Column="3" Content="å’Œæ£‹" Click="DrawOffer_Click" 
                                        Style="{StaticResource CompactButton}" Margin="3,0,0,3"/>
                            </Grid>
                        </StackPanel>
                        
                        <!-- å¤ç›˜æŽ§åˆ¶ -->
                        <StackPanel DockPanel.Dock="Top" Margin="15,5,15,10">
                            <TextBlock Text="å¤ç›˜æŽ§åˆ¶" Style="{StaticResource GroupHeaderStyle}"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Button Grid.Column="0" Content="â® å¼€å¤´" Click="GoToStart_Click" 
                                        Style="{StaticResource CompactButton}" Margin="0,0,3,3"/>
                                <Button Grid.Column="1" Content="â—€ ä¸Šæ­¥" Click="GoBack_Click" 
                                        Style="{StaticResource CompactButton}" Margin="3,0,3,3"/>
                                <Button Grid.Column="2" Content="ä¸‹æ­¥ â–¶" Click="GoForward_Click" 
                                        Style="{StaticResource CompactButton}" Margin="3,0,3,3"/>
                                <Button Grid.Column="3" Content="ç»“å°¾ â­" Click="GoToEnd_Click" 
                                        Style="{StaticResource CompactButton}" Margin="3,0,0,3"/>
                            </Grid>
                        </StackPanel>
                        
                        <!-- å±€é¢ç¼–è¾‘ -->
                        <StackPanel DockPanel.Dock="Top" Margin="15,10,15,10">
                            <TextBlock Text="å±€é¢" Style="{StaticResource GroupHeaderStyle}"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Button Grid.Column="0" Content="å¤åˆ¶ FEN" Style="{StaticResource CompactButton}" 
                                        Margin="0,0,3,3"/>
                                <Button Grid.Column="1" Content="ç²˜è´´ FEN" Style="{StaticResource CompactButton}" 
                                        Margin="3,0,3,3"/>
                                <Button Grid.Column="2" Content="ç¼–è¾‘å±€é¢" Style="{StaticResource CompactButton}" 
                                        Margin="3,0,0,3"/>
                            </Grid>
                        </StackPanel>
                        
                        <!-- æ—¶é—´æŽ§åˆ¶ -->
                        <StackPanel DockPanel.Dock="Top" Margin="15,10,15,10">
                            <TextBlock Text="æ—¶é—´æŽ§åˆ¶" Style="{StaticResource GroupHeaderStyle}"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="æ¯æ–¹æ—¶é—´ï¼š" 
                                          Foreground="#aaaaaa" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                <TextBox Grid.Column="1" x:Name="TimeControlTextBox" Text="10:00" 
                                        Background="#3c3c3c" Foreground="White"
                                        BorderBrush="#555555" Padding="5,3"/>
                            </Grid>
                        </StackPanel>
                        
                        <!-- å¼•æ“Žä¿¡æ¯ -->
                        <StackPanel DockPanel.Dock="Top" Margin="15,10,15,10">
                            <TextBlock Text="å¼•æ“Žä¿¡æ¯" Style="{StaticResource GroupHeaderStyle}"/>
                            <Border Background="#3c3c3c" BorderBrush="#555555" 
                                    BorderThickness="1" CornerRadius="3" Padding="10">
                                <StackPanel>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="60"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Grid.Column="0" Text="çŠ¶æ€ï¼š" 
                                                  Foreground="#888888" FontSize="12"/>
                                        <TextBlock Grid.Column="1" x:Name="EngineStatusText" 
                                                  Text="æœªåŠ è½½" Foreground="#4ec9b0" 
                                                  FontSize="12" FontWeight="Bold"/>
                                    </Grid>
                                    <Grid Margin="0,8,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="60"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Grid.Column="0" Text="å¼•æ“Žï¼š" 
                                                  Foreground="#888888" FontSize="12"/>
                                        <TextBlock Grid.Column="1" x:Name="EngineNameText" 
                                                  Text="-" Foreground="#cccccc" 
                                                  FontSize="12"/>
                                    </Grid>
                                    <Grid Margin="0,8,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="60"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Grid.Column="0" Text="éš¾åº¦ï¼š" 
                                                  Foreground="#888888" FontSize="12"/>
                                        <ComboBox Grid.Column="1" x:Name="DifficultyComboBox" 
                                                  Background="#3c3c3c" Foreground="White"
                                                  FontSize="12" Padding="5,3"
                                                  SelectionChanged="DifficultyComboBox_SelectionChanged">
                                            <ComboBoxItem Content="å…¥é—¨çº§" Tag="Beginner"/>
                                            <ComboBoxItem Content="æ–°æ‰‹çº§" Tag="Novice"/>
                                            <ComboBoxItem Content="ä¸šä½™çº§" Tag="Amateur" IsSelected="True"/>
                                            <ComboBoxItem Content="ä¸“ä¸šçº§" Tag="Professional"/>
                                            <ComboBoxItem Content="å¤§å¸ˆçº§" Tag="Master"/>
                                            <ComboBoxItem Content="é¡¶çº§ AI" Tag="Grandmaster"/>
                                        </ComboBox>
                                    </Grid>
                                    <Grid Margin="0,8,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="60"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Grid.Column="0" Text="æ¨¡å¼ï¼š" 
                                                  Foreground="#888888" FontSize="12"/>
                                        <CheckBox Grid.Column="1" x:Name="EnginePlayMode" 
                                                 Content="äººæœºå¯¹æˆ˜" 
                                                 Foreground="#cccccc" FontSize="12"
                                                 VerticalContentAlignment="Center"
                                                 Checked="EnginePlayMode_Checked"
                                                 Unchecked="EnginePlayMode_Unchecked"/>
                                    </Grid>
                                </StackPanel>
                            </Border>
                            <Button Content="åŠ è½½å¼•æ“Ž" Click="LoadEngine_Click" 
                                    Style="{StaticResource CompactButton}" Margin="0,10,0,0"/>
                        </StackPanel>
                        
                        <!-- åˆ†éš”çº¿ -->
                        <Border DockPanel.Dock="Top" Margin="15,15,15,10" 
                                Height="1" Background="#3e3e42"/>
                        
                        <!-- å½“å‰èµ°æ£‹æ–¹ -->
                        <Border DockPanel.Dock="Top" Margin="15,10,15,10" 
                                Background="#3c3c3c" CornerRadius="4" Padding="12">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="å½“å‰èµ°æ£‹ï¼š" 
                                          Foreground="#888888" FontSize="12" 
                                          VerticalAlignment="Center"/>
                                <TextBlock Grid.Column="1" x:Name="SideToMoveText" 
                                          Text="çº¢æ–¹" FontSize="15" FontWeight="Bold" 
                                          Foreground="#ff6b6b" Margin="10,0,0,0"
                                          VerticalAlignment="Center"/>
                            </Grid>
                        </Border>
                        
                        <!-- å¼•æ“Žæ€è€ƒè¾“å‡º -->
                        <StackPanel DockPanel.Dock="Top" Margin="15,10,15,10">
                            <TextBlock Text="å¼•æ“Žåˆ†æž" Style="{StaticResource GroupHeaderStyle}"/>
                            <Border Background="#2d2d30" BorderBrush="#555555" 
                                    BorderThickness="1" CornerRadius="3" 
                                    Height="160" Padding="8">
                                <ScrollViewer x:Name="EngineOutputScroll" 
                                             VerticalScrollBarVisibility="Auto">
                                    <TextBlock x:Name="EngineOutputText" 
                                              TextWrapping="Wrap" 
                                              Foreground="#aaaaaa" FontSize="11"
                                              LineHeight="16"/>
                                </ScrollViewer>
                            </Border>
                        </StackPanel>
                        
                        <!-- èµ°æ£‹è®°å½• -->
                        <StackPanel DockPanel.Dock="Bottom" Margin="15,10,15,15">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="èµ°æ£‹è®°å½•" 
                                          Style="{StaticResource GroupHeaderStyle}" 
                                          Margin="0,0,0,8"/>
                                <Button Grid.Column="1" Content="æ¸…ç©º" 
                                       Style="{StaticResource CompactButton}" 
                                       Padding="5,3" FontSize="11"
                                       Click="ClearHistory_Click"/>
                            </Grid>
                            <Border Background="#2d2d30" BorderBrush="#555555" 
                                    BorderThickness="1" CornerRadius="3" 
                                    Height="220">
                                <ListBox x:Name="MoveHistoryList" 
                                        Background="Transparent" 
                                        Foreground="#cccccc"
                                        BorderThickness="0"
                                        Padding="8"
                                        VirtualizingPanel.IsVirtualizing="True">
                                    <ListBox.ItemContainerStyle>
                                        <Style TargetType="ListBoxItem">
                                            <Setter Property="Padding" Value="3,2"/>
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="ListBoxItem">
                                                        <Border Padding="{TemplateBinding Padding}">
                                                            <ContentPresenter/>
                                                        </Border>
                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                <Setter Property="Background" Value="#3c3c3c"/>
                                                            </Trigger>
                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </ListBox.ItemContainerStyle>
                                </ListBox>
                            </Border>
                        </StackPanel>
                    </DockPanel>
                </ScrollViewer>
            </Border>
        </Grid>
        
        <!-- ========== çŠ¶æ€æ  ========== -->
        <StatusBar Grid.Row="3" Background="#2d2d30" Foreground="#aaaaaa">
            <StatusBar.ItemsPanel>
                <ItemsPanelTemplate>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                    </Grid>
                </ItemsPanelTemplate>
            </StatusBar.ItemsPanel>
            
            <StatusBarItem Grid.Column="0">
                <TextBlock x:Name="StatusBarSideToMove" Text="çº¢æ–¹èµ°æ£‹" 
                          Foreground="#ff6b6b" FontWeight="Bold"/>
            </StatusBarItem>
            
            <Separator Grid.Column="1" Background="#555555" Margin="5,0"/>
            
            <!-- å°†å†›æç¤º -->
            <StatusBarItem Grid.Column="2">
                <StackPanel x:Name="CheckStatusPanel" Orientation="Horizontal" Visibility="Collapsed">
                    <Path x:Name="CheckWarningIcon" Data="M12,2L1,21H23M12,6L19.5,19H4.5M11,10V14H13V10M11,15V17H13V15" 
                          Fill="#FF4444" Width="16" Height="16" Stretch="Uniform" Margin="0,0,5,0"
                          VerticalAlignment="Center"/>
                    <TextBlock x:Name="CheckStatusText" Text="å°†å†›ï¼" 
                              Foreground="#FF4444" FontWeight="Bold" FontSize="13"/>
                </StackPanel>
            </StatusBarItem>
            
            <Separator Grid.Column="3" Background="#555555" Margin="5,0"/>
            
            <StatusBarItem Grid.Column="4">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="æ·±åº¦ï¼š" Foreground="#888888" Margin="0,0,5,0"/>
                    <TextBlock x:Name="StatusBarDepth" Text="-" Foreground="#4ec9b0"/>
                </StackPanel>
            </StatusBarItem>
            
            <StatusBarItem Grid.Column="5">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="åˆ†æ•°ï¼š" Foreground="#888888" Margin="0,0,5,0"/>
                    <TextBlock x:Name="StatusBarScore" Text="-" Foreground="#dcdcaa"/>
                </StackPanel>
            </StatusBarItem>
            
            <StatusBarItem Grid.Column="6">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="æ—¶é—´ï¼š" Foreground="#888888" Margin="0,0,5,0"/>
                    <TextBlock x:Name="StatusBarTime" Text="00:00" Foreground="#569cd6"/>
                </StackPanel>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>